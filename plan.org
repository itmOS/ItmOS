#+TODO: TODO PROGRESS DEFFERED | DONE

* Гайд по огранизации проекта
  В проекте две основные ветки -- master и plan. master -- с кодом, plan -- с этим файлом.
  Проект разбит на модули (модули тоже могут состоять из модулей). Основной контракт -- каждый модуль содержит Makefile, после
  выполнения команды make на котором модуль будет содержать статическую библиотеку имя_модуля.а, которую корневой Makefile слинкует с проектом.
  Чтобы добавить свой модуль -- скопируйте Makefile из любого другого модуля и поменяйте переменные OBJ и OUTPUT, а также добавите свой модуль в
  список модулей в корневом Makefile.
  По умолчанию мы используем виртуальную машину qemu, установите ее себе на компьютер и запустите команду 'make run' в корне проекта.
* Гайд по тому, что и как делать
  Если в чем-то сомневаетесь -- проконсультируйтесь у специалиста.
  Примечание: Вся строгость только к коммитам в мастер и ветки с фичами и багами, к ветке plan это не относится, тут не очень страшно что-то сломать.

  Если хотите реализовать какой-нибудь пункт, то добавьте измените статус пункта с TODO на PROGRESS, добавьте себя в поле :with:, как в примере с загрузчиком.
  После этого создайте issue на гитхаб с указанием пункта и ветку с именем 'feature #номер_issue' или 'bug #номер_issue', например 'feature #239'.
  Как обычно, разбивайте работу на коммиты и называйте их нормально, а не 'all done'.
  После того, как все доделали, напишите в вашем issue об этом и запуште вашу ветку (не лейте в мастер!). Коммиты должны автоматически прикрепиться по номеру.
  После того как 2-3 более-менее опытных участника напишут вам, что ваш код -- ок, Аккуратно смержте в мастер, проверив, что тесты работают и ничего не сломалось.
  При мерже используйте флаг --no-ff, чтобы оставалась древовидная история коммитов.
  Не стесняйтесь сами проверять чужой код, чтобы все были счастливы.
  Потом исправьте в этом файле PROGRESS на DONE, можете добавить некоторые комментарии по реализации, соблюдая структуру файла.

  Если вы реализуете какую-то библиотку для использования людьми, то не стесняйтесь добавить включаемый файл с импортом нужных функций
  и реализовать по-больще удобных макросов, потому что на макросах писать -- одно удовольствие!
  (Пример можете посмотреть в ostempalte, хотя приведенные там функции не очень удобны)

  Файлы мы называем с расширением .s (Makefile так лучше понимает, чем .asm), а включаемые файлы называем .inc.
  Глобальные функции префиксуйте названием модуля (e.g. tty_puts), чтобы избежать ошибок линковки.
* Примерный план создания ItmOS
  Многие пункты плохо расписаны по шагам, потому что до них еще нужно дойти.
** DONE Multiboot загрузчик
   :with: Zakhar Voit
** DEFFERED 64 битное ядро (Переключение в long mode)
   :with: Zakhar Voit
   Задолбался это делать, не могу заставить свой код заработать, думаю, что можно пока
   продолжить все делать в 32-битном режиме.
** DONE Инициализация таблицы сегментов и включение виртуальной памяти
   :with: Zakhar Voit
   Реализовал поддержку виртуальной памяти, замапил ядро в верхнюю часть (3GB+)
   оперативной памяти.
** TODO Получение полезной информации от BIOS и первичного загрузчика
   Multiboot описывает как передается некоторая информация от BIOS и первичного загрузчика (например положение курсора на текстовом экране).
   Эта информация рано или поздно пригодится некоторым драйверам, было бы неплохо предоставить удобный интерфейс к ней.
** TODO Драйвер текстового экрана
*** TODO Простой драйвер текстового экрана
    Пример есть в ostempalte, но приведенный там код обладает большим количеством недостатков (написан на коленке).
*** TODO Восстановление режима и положения курсора от первичного загрузчика.
*** TODO Поддержка hardware положения курсора (мигающее подчеркивание)
** TODO Отладка, обработка ошибок логгирование и тестирование
   :PROPERTIES:
   :ORDERED:  t
   :END:
*** TODO Логгирование
**** TODO Удобный интерфейс для логов ядра, логгирование на экран.
**** TODO Логгирование на жесткий диск.
*** TODO Удобный интерфейс для обработки ошибок в функциях ядра.
*** TODO Обший способ запуска тестов для различных модулей.
*** TODO Отладка
**** DONE Настроить помимо qemu эмулятор bochs, который предоставляет более удобную отладку.
     :with: Zakhar Voit
     Добавил поддержку bochs, как запускать написано в эмуляторе. При желании можно добавить в конфиг поддержду GUI debugger'a.
     Также добавил выбор эмулятора при запуске make (Описано в README.md).
**** TODO Какой-нибудь свой механизм отладки кода ядра
** TODO Удобный интерфейс для работы с портами ввода-вывода
** TODO Прерывания (тут можно разбить на много пунктов, но мне лень, кто-нибудь может это сделать)
** TODO Драйвер для работы с клавиатурой
** TODO Драйвер для работы с жестким диском
** TODO Файловая система (тут предпочтительно что-нибудь, что линукс монтирует: fat, ext2)
** TODO Поддерка минимального набора системных вызовов
** TODO Стандартная библиотека в том или ином виде
** TODO Менеджер памяти
** TODO Поддержка запуска приложений
*** TODO Поддержка бинарного формата, например elf
** TODO Многозадачность
** TODO Командный интерпретатор
** TODO Некоторые user-land программы
** TODO Добавить ту или иную open-source лицензию в проект.
** TODO Добавить нескучные обои
** Добавляйте свои пункты
